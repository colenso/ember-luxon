{"version":3,"file":"luxon-format.js","sources":["../../src/helpers/luxon-format.js"],"sourcesContent":["import { isEmpty } from '@ember/utils';\nimport { get, observer } from '@ember/object';\n\nimport computeFn from '../utils/helper-compute';\nimport BaseHelper from './-base';\n\nexport default class LuxonFormatHelper extends BaseHelper {\n  // eslint-disable-next-line ember/no-observers\n  defaultFormatDidChange = observer('luxon.defaultFormat', function () {\n    this.recompute();\n  });\n\n  compute = computeFn(function (params, { locale, timeZone }) {\n    this._super(...arguments);\n    const luxon = this.luxon;\n    const { length } = params;\n\n    if (length > 3) {\n      throw new TypeError(\n        'ember-luxon: Invalid number of arguments, expected at most 3',\n      );\n    }\n\n    const args = [];\n    const formatArgs = [];\n    // eslint-disable-next-line ember/no-get\n    const defaultFormat = get(this, 'luxon.defaultFormat');\n\n    args.push(params[0]);\n\n    if (length === 1 && !isEmpty(defaultFormat)) {\n      formatArgs.push(defaultFormat);\n    } else if (length === 2) {\n      formatArgs.push(params[1]);\n    } else if (length > 2) {\n      args.push(params[2]);\n      formatArgs.push(params[1]);\n    }\n\n    return this.morphLuxon(luxon.luxon(...args), {\n      locale,\n      timeZone,\n    }).format(...formatArgs);\n  });\n}\n"],"names":["LuxonFormatHelper","BaseHelper","defaultFormatDidChange","observer","recompute","compute","computeFn","params","locale","timeZone","_super","arguments","luxon","length","TypeError","args","formatArgs","defaultFormat","get","push","isEmpty","morphLuxon","format"],"mappings":";;;;;AAMe,MAAMA,iBAAiB,SAASC,UAAU,CAAC;AACxD;AACAC,EAAAA,sBAAsB,GAAGC,QAAQ,CAAC,qBAAqB,EAAE,YAAY;IACnE,IAAI,CAACC,SAAS,EAAE,CAAA;AAClB,GAAC,CAAC,CAAA;AAEFC,EAAAA,OAAO,GAAGC,SAAS,CAAC,UAAUC,MAAM,EAAE;IAAEC,MAAM;AAAEC,IAAAA,QAAAA;AAAS,GAAC,EAAE;AAC1D,IAAA,IAAI,CAACC,MAAM,CAAC,GAAGC,SAAS,CAAC,CAAA;AACzB,IAAA,MAAMC,KAAK,GAAG,IAAI,CAACA,KAAK,CAAA;IACxB,MAAM;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAGN,MAAM,CAAA;IAEzB,IAAIM,MAAM,GAAG,CAAC,EAAE;AACd,MAAA,MAAM,IAAIC,SAAS,CACjB,8DACF,CAAC,CAAA;AACH,KAAA;IAEA,MAAMC,IAAI,GAAG,EAAE,CAAA;IACf,MAAMC,UAAU,GAAG,EAAE,CAAA;AACrB;AACA,IAAA,MAAMC,aAAa,GAAGC,GAAG,CAAC,IAAI,EAAE,qBAAqB,CAAC,CAAA;AAEtDH,IAAAA,IAAI,CAACI,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;IAEpB,IAAIM,MAAM,KAAK,CAAC,IAAI,CAACO,OAAO,CAACH,aAAa,CAAC,EAAE;AAC3CD,MAAAA,UAAU,CAACG,IAAI,CAACF,aAAa,CAAC,CAAA;AAChC,KAAC,MAAM,IAAIJ,MAAM,KAAK,CAAC,EAAE;AACvBG,MAAAA,UAAU,CAACG,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AAC5B,KAAC,MAAM,IAAIM,MAAM,GAAG,CAAC,EAAE;AACrBE,MAAAA,IAAI,CAACI,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AACpBS,MAAAA,UAAU,CAACG,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AAC5B,KAAA;IAEA,OAAO,IAAI,CAACc,UAAU,CAACT,KAAK,CAACA,KAAK,CAAC,GAAGG,IAAI,CAAC,EAAE;MAC3CP,MAAM;AACNC,MAAAA,QAAAA;AACF,KAAC,CAAC,CAACa,MAAM,CAAC,GAAGN,UAAU,CAAC,CAAA;AAC1B,GAAC,CAAC,CAAA;AACJ;;;;"}